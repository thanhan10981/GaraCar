<!-- SIDEBAR -->
<div class="sidebar_content">
  <div class="sidebar">
    <h4>Mối quan tâm</h4>
    <div class="display-options" *ngFor="let option of interestOptions">
      <label class="radio-option">
        <input
          type="radio"
          name="moiquantam"
          [value]="option"
          [(ngModel)]="selectedInterest"
          (change)="onSelectedInterestChange()"
        />
        <span>{{ option }}</span>
      </label>
    </div>
  </div>
  <div class="sidebar">
    <h4>Thời gian</h4>

    <div class="time-options">
      <!-- Radio chọn hôm nay + mũi tên xổ lịch -->
      <div class="date-today-wrapper">
        <label class="radio-option">
          <input
            type="radio"
            name="thoigian"
            value="today"
            [(ngModel)]="selectedTime"
            (change)="onTimeChange()"
          />
          <span>{{ todayLabel }}</span>
        </label>

        <!-- Nút mở datepicker -->
        <div class="button-datepicker-wrapper">
          <button mat-icon-button (click)="picker.open()" class="arrow-button">
            <i class="fa fa-chevron-down"></i>
          </button>

          <!-- input ẩn, NHƯNG vẫn còn chỗ đứng -->
          <input
            matInput
            [matDatepicker]="picker"
            class="fake-input"
            (dateChange)="onDateSelected($event)"
          />
          <mat-datepicker #picker></mat-datepicker>
        </div>
      </div>
      <div
        class="date-today-wrapper"
        *ngIf="selectedTime === 'today' || selectedTime === 'custom'"
      >
        <div class="time-input-wrapper">
          <label class="time-label">Từ</label>
          <div class="time-input">
            <input type="time" [(ngModel)]="fromTime" (ngModelChange)="onTimeInputChanged()"/>
          </div>
        </div>

        <div class="time-input-wrapper">
          <label class="time-label">Đến</label>
          <div class="time-input">
            <input type="time" [(ngModel)]="toTime" (ngModelChange)="onTimeInputChanged()" />
          </div>
        </div>
      </div>
      <!-- Radio lựa chọn khác -->
      <label class="radio-option">
        <input
          type="radio"
          name="thoigian"
          value="custom"
          [(ngModel)]="selectedTime"
          (change)="onTimeChange()"
        />
        <span>Lựa chọn khác</span>
      </label>

      <!-- Phần chọn ngày từ - đến -->
      <div *ngIf="showDateRange" class="date-range-picker">
        <label>Từ:</label>
        <input type="date" [(ngModel)]="fromDate" />

        <label>Đến:</label>
        <input type="date" [(ngModel)]="toDate" />

        <button (click)="onGenerateRange()">Tạo báo cáo</button>
      </div>
    </div>
  </div>
  <div class="sidebar">
    <h4>Khách hàng</h4>
    <input
      type="text"
      [(ngModel)]="khachHangFilter"
      (input)="onKhachHangChange()"
      placeholder="Nhập tên khách hàng"
    />
  </div>
  <div class="sidebar">
    <h4>Nhân viên</h4>
    <select [(ngModel)]="nhanVienFilter" (change)="onNhanVienChange()">
      <option value="" selected>Chọn nhân viên</option>
      <option *ngFor="let nv of danhSachNhanVien" [value]="nv.MaNhanVien">
        {{ nv.TenNhanVien }}
      </option>
    </select>
  </div>
  <div class="sidebar">
    <h4>Người tạo</h4>
    <select [(ngModel)]="nguoiTao" (change)="onNguoiTaoChange()">
      <option value="" selected>Chọn người tạo</option>
      <option *ngFor="let ql of danhSachQuanLy" [value]="ql.MaNhanVien">
        {{ ql.TenNhanVien }}
      </option>
    </select>
  </div>
  <div class="sidebar">
    <h4>Chọn phương thức thanh toán</h4>
    <select [(ngModel)]="phuongThucThanhToan" (change)="onPhuongThucChange()">
      <option value="">Chọn phương thức</option>
      <option value="Tiền mặt">Tiền mặt</option>
      <option value="Chuyển khoản">Chuyển khoản</option>
    </select>
  </div>
</div>
